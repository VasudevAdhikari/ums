<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Student Portal</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% load static %}
    <link rel="stylesheet" href="{% static 'public/stylesheets/home.css' %}">
</head>
<body data-bs-spy="scroll" data-bs-target=".navbar" data-bs-offset="180" tabindex="0">

    <!-- Navbar -->
    {% include "htmls/navbar.html" %}

    <!-- Main Content -->
    <main class="container-fluid py-5" style="margin-top: 56px;">
        <!-- University Information -->
        <section id="university-info" class="py-5">
            <h2 class="section-header">{{university_info.name}}</h2>
            <div class="card p-4">
                <div class="card-body">
                    <p class="lead">
                        {{university_info.description}}
                    </p>
                    <hr>
                    <h5 class="text-primary mb-3"><i class="fas fa-lightbulb me-2"></i> Our Mission</h5>
                    <p>{{university_info.mission|default:"Not provided yet"}}</p>

                    <h5 class="text-primary mb-3 mt-4"><i class="fas fa-eye me-2"></i> Our Vision</h5>
                    <p>{{university_info.vision|default:"Not provided yet"}}</p>
                </div>
            </div>
            
            <!-- University Photos Section -->
            <h2 class="section-header mt-5">University Photos</h2>
            <div id="universityPhotosCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    {% for id, photo in photos.items %}
                      <button 
                        type="button" 
                        data-bs-target="#universityPhotosCarousel" 
                        data-bs-slide-to="{{ forloop.counter0 }}" 
                        {% if forloop.first %}class="active" aria-current="true"{% endif %}
                        aria-label="Slide {{ forloop.counter }}">
                      </button>
                    {% endfor %}
                  </div>
                <div class="carousel-inner rounded-4 shadow-lg">
                    
                    {% for id, photo in photos.items %}
                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        <img src="/media/{{photo.image}}" class="d-block w-100" alt="{{photo.caption}}">
                        <div class="carousel-caption d-none d-md-block">
                            <h4>{{photo.caption}}</h4>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#universityPhotosCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#universityPhotosCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>

        <!-- Faculties Section -->
        <section id="faculties" class="py-5">
            <h2 class="section-header">Our Faculties</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Faculty 1 -->
                {% for faculty in faculties %}
                <div class="col">
                    <div class="card h-100">
                        <img src="/media/{{faculty.faculty_photo}}" class="card-img-top" alt="{{faculty.name}}">
                        <div class="card-body">
                            <h5 class="card-title">{{faculty.name}}</h5>
                            <p class="card-text"><i class="fas fa-user-tie me-2"></i><strong>Head:</strong> {{faculty.head_of_faculty.full_name}}</p>
                            <p class="card-text"><i class="fas fa-phone-alt me-2"></i><strong>Phone:</strong> {{faculty.contact_phone}}</p>
                            <p class="card-text"><i class="fas fa-envelope me-2"></i><strong>Email:</strong> {{faculty.contact_email}}</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- Departments Section (Grouped by Faculties) -->
        <section id="departments" class="py-5">
            <h2 class="section-header">Departments by Faculty</h2>
            <div class="accordion" id="departmentsAccordion">
                <!-- Computer Science Faculty Departments -->
                {% for faculty, departments in department_data.items %}
                    {% with counter=forloop.counter %}
                        <div class="accordion-item">
                        <h2 class="accordion-header" id="heading{{ counter }}">
                            <button class="accordion-button collapsed" type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapse{{ counter }}"
                                    aria-expanded="false"
                                    aria-controls="collapse{{ counter }}">
                            <i class="fas fa-laptop-code me-2"></i> {{ faculty }}
                            </button>
                        </h2>
                        <div id="collapse{{ counter }}"
                            class="accordion-collapse collapse"
                            aria-labelledby="heading{{ counter }}"
                            data-bs-parent="#departmentsAccordion">
                            <div class="accordion-body">
                            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
                                {% for department in departments %}
                                <div class="col">
                                    <div class="card h-100">
                                    <div class="card-body">
                                        <img src="/media/{{ department.department_photo }}"
                                            alt="{{ department.name }} Dept Logo"
                                            class="img-fluid rounded-circle mb-3"
                                            style="width: 70px; height: 70px; object-fit: cover;">
                                        <h5 class="card-title department-title">{{ department.name }}</h5>
                                        <p class="card-text"><small><i class="fas fa-user-tie me-1"></i><strong>Head:</strong> {{ department.head_of_department.full_name }}</small></p>
                                        <p class="card-text"><small><i class="fas fa-phone-alt me-1"></i><strong>Phone:</strong> {{ department.contact_phone }}</small></p>
                                        <p class="card-text"><small><i class="fas fa-envelope me-1"></i><strong>Email:</strong> {{ department.contact_email }}</small></p>
                                    </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                            </div>
                        </div>
                        </div>
                    {% endwith %}
                    {% endfor %}
            </div>
        </section>

        <!-- Degrees Section -->
        <section id="degrees" class="hero-section my-5">
            <div class="container">
                <h1>Welcome, Future Innovator!</h1>
                <p>Explore your academic journey and discover endless possibilities at our esteemed university.</p>
                <div class="d-grid gap-2 col-6 mx-auto mt-4">
                    <a href="/public/degrees" class="btn btn-light btn-lg rounded-pill shadow-sm">Explore Degrees <i class="fas fa-arrow-right ms-2"></i></a>
                </div>
            </div>
        </section>

        <!-- Instructors Section (Grouped by Departments) -->
        <section id="instructors" class="py-5">
            <h2 class="section-header">Our Esteemed Instructors</h2>
            <div class="accordion" id="instructorsAccordion">
                <!-- Computer Science Department Instructors -->
                {% for department, instructors in instructor_data.items %}
                {% with counter=forloop.counter %}
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingInstructor{{ counter }}">
                      <button class="accordion-button collapsed" type="button"
                              data-bs-toggle="collapse"
                              data-bs-target="#collapseInstructor{{ counter }}"
                              aria-expanded="false"
                              aria-controls="collapseInstructor{{ counter }}">
                        <i class="fas fa-laptop-code me-2"></i> {{ department }}
                      </button>
                    </h2>
                    <div id="collapseInstructor{{ counter }}"
                         class="accordion-collapse collapse"
                         aria-labelledby="headingInstructor{{ counter }}"
                         data-bs-parent="#instructorsAccordion">
                      <div class="accordion-body">
                        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
                          {% for instructor in instructors %}
                            <div class="col">
                              <div class="card h-100 text-center border-line">
                                <div class="card-body">
                                  <img src="{{ instructor.user.profile_picture.url }}"
                                       alt="Instructor Profile"
                                       class="profile-img mb-3">
                                  <h6 class="card-title">{{ instructor.user.full_name }}</h6>
                                  <div class="text-group">
                                    <p class="card-text mb-1 info-line">
                                      <small><i class="fas fa-phone-alt me-1"></i>{{ instructor.user.phone }}</small>
                                    </p>
                                    <p class="card-text mb-1 info-line">
                                      <small><i class="fas fa-envelope me-1"></i>{{ instructor.user.email }}</small>
                                    </p>
                                    <p class="card-text mb-1 info-line">
                                      <small><i class="fas fa-building me-1"></i>{{ instructor.specialization }}</small>
                                    </p>
                                    <p class="card-text mb-1 info-line">
                                      <small><i class="fas fa-briefcase me-1"></i>{{ instructor.position_in_university }}</small>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          {% endfor %}
                        </div>
                      </div>
                    </div>
                  </div>
                {% endwith %}
              {% endfor %}
            </div>
        </section>

        <!-- Executives Section -->
        <section id="executives" class="py-5">
            <h2 class="section-header">University Executives</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Executive 1 -->
                 {% for executive in executives %}
                <div class="col-lg-4 col-md-6 card-wrapper">
                    <div class="executive-card">
                        <div class="d-flex align-items-center mb-3">
                            <div class="me-3" >
                                <img class="executive-img" src="{{executive.user.profile_picture.url}}" alt="image">
                            </div>
                            <div>
                                <div class="executive-name">{{executive.user.full_name}}</div>
                                <a href="#" class="executive-title">{{executive.position_in_university}}</a>
                                <!-- <div class="executive-role">Academic Affairs</div> -->
                            </div>
                        </div>
                        <hr>
                        <div class="executive-contact">
                            <p class="mb-1"><i class="fas fa-envelope me-2"></i> <a href="mailto:{{executive.user.email}}">{{executive.user.email}}</a></p>
                            <p class="mb-1"><i class="fas fa-phone-alt me-2"></i> {{executive.user.phone}}</p>
                            <p class="mb-0"><i class="fas fa-map-marker-alt me-2"></i> {{executive.degree|default:"Not Stated"}}</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- University Partnerships -->
        <section id="partnerships" class="py-5">
            <h2 class="section-header">University Partnerships</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Partnership 1 -->
                 {% for partnership, details in partnerships.items %}
                <div class="col">
                    <div class="card h-100">
                        <img src="/media/{{details.image}}" class="card-img-top" alt="TechCorp Logo">
                        <div class="card-body">
                            <h5 class="card-title">{{partnership}}</h5>
                            <p class="card-text">{{details.description}}</p>
                            <span class="badge badge-custom badge-international">{{details.type}}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- University Certificates -->
        <section id="certificates" class="py-5">
            <h2 class="section-header">University Certificates</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Certificate 1 -->
                 {% for id, certificate in certificates.items %}
                <div class="col">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">{{certificate.title}}</h5>
                            <p class="card-text">{{certificate.description}}</p>
                            <a href="/media/{{certificate.file}}" class="btn btn-outline-primary btn-sm rounded-pill mt-2"><i class="fas fa-file-pdf me-2"></i>View Certificate</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- University Labs -->
        <section id="labs" class="py-5">
            <h2 class="section-header">Our Cutting-Edge Labs</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Lab 1: Robotics & AI Lab -->
                 {% for id, lab in labs.items %}
                <div class="col">
                    <div class="card h-100 lab-card">
                        <img src="/media/{{lab.images.0}}" class="lab-img card-img-top lab-card-img" alt="Robotics Lab Photo">
                        <div class="card-body">
                            <h5 class="card-title">{{lab.lab_name}}</h5>
                            <p class="card-text">{{lab.description|truncatechars:100}}</p>
                            <button class="btn btn-primary mt-auto" onclick="window.location.href=`{% url 'lab_details' id %}`">Learn More <i class="fas fa-arrow-right ms-2"></i></button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4 mb-md-0">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#">Home</a></li>
                        <li><a href="#university-info">About</a></li>
                        <li><a href="#faculties">Academics</a></li>
                        <li><a href="#labs">Research</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4 mb-md-0">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-map-marker-alt me-2"></i> {{university_info.address}}</li>
                        <li><i class="fas fa-phone-alt me-2"></i> {{university_info.opening_time}}</li>
                        <li><i class="fas fa-envelope me-2"></i> {{university_info.contact_email}}</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Connect With Us</h5>
                    <div class="social-icons">
                        <a href="https://www.{{university_info.facebook}}" class="me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="me-3"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="me-3"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4" style="border-color: rgba(255,255,255,0.1);">
            <div class="text-center">
                <p>&copy; 2025 University of Computer Studies. All rights reserved.</p>
                <p><a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'public/javascripts/home.js' %}"></script>
</body>
</html>